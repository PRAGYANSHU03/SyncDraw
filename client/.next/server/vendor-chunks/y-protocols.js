"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/y-protocols";
exports.ids = ["vendor-chunks/y-protocols"];
exports.modules = {

/***/ "(ssr)/./node_modules/y-protocols/auth.js":
/*!******************************************!*\
  !*** ./node_modules/y-protocols/auth.js ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   messagePermissionDenied: () => (/* binding */ messagePermissionDenied),\n/* harmony export */   readAuthMessage: () => (/* binding */ readAuthMessage),\n/* harmony export */   writePermissionDenied: () => (/* binding */ writePermissionDenied)\n/* harmony export */ });\n/* harmony import */ var lib0_encoding__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib0/encoding */ \"(ssr)/./node_modules/lib0/encoding.js\");\n/* harmony import */ var lib0_decoding__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib0/decoding */ \"(ssr)/./node_modules/lib0/decoding.js\");\n // eslint-disable-line\n\n\nconst messagePermissionDenied = 0;\n/**\n * @param {encoding.Encoder} encoder\n * @param {string} reason\n */ const writePermissionDenied = (encoder, reason)=>{\n    lib0_encoding__WEBPACK_IMPORTED_MODULE_0__.writeVarUint(encoder, messagePermissionDenied);\n    lib0_encoding__WEBPACK_IMPORTED_MODULE_0__.writeVarString(encoder, reason);\n};\n/**\n * @callback PermissionDeniedHandler\n * @param {any} y\n * @param {string} reason\n */ /**\n *\n * @param {decoding.Decoder} decoder\n * @param {Y.Doc} y\n * @param {PermissionDeniedHandler} permissionDeniedHandler\n */ const readAuthMessage = (decoder, y, permissionDeniedHandler)=>{\n    switch(lib0_decoding__WEBPACK_IMPORTED_MODULE_1__.readVarUint(decoder)){\n        case messagePermissionDenied:\n            permissionDeniedHandler(y, lib0_decoding__WEBPACK_IMPORTED_MODULE_1__.readVarString(decoder));\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveS1wcm90b2NvbHMvYXV0aC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUN3QixDQUFDLHNCQUFzQjtBQUNOO0FBQ0E7QUFFbEMsTUFBTUcsMEJBQTBCLEVBQUM7QUFFeEM7OztDQUdDLEdBQ00sTUFBTUMsd0JBQXdCLENBQUNDLFNBQVNDO0lBQzdDTCx1REFBcUIsQ0FBQ0ksU0FBU0Y7SUFDL0JGLHlEQUF1QixDQUFDSSxTQUFTQztBQUNuQyxFQUFDO0FBRUQ7Ozs7Q0FJQyxHQUVEOzs7OztDQUtDLEdBQ00sTUFBTUcsa0JBQWtCLENBQUNDLFNBQVNDLEdBQUdDO0lBQzFDLE9BQVFWLHNEQUFvQixDQUFDUTtRQUMzQixLQUFLUDtZQUF5QlMsd0JBQXdCRCxHQUFHVCx3REFBc0IsQ0FBQ1E7SUFDbEY7QUFDRixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3luY2RyYXctY2xpZW50Ly4vbm9kZV9tb2R1bGVzL3ktcHJvdG9jb2xzL2F1dGguanM/YjAyZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCAqIGFzIFkgZnJvbSAneWpzJyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5pbXBvcnQgKiBhcyBlbmNvZGluZyBmcm9tICdsaWIwL2VuY29kaW5nJ1xuaW1wb3J0ICogYXMgZGVjb2RpbmcgZnJvbSAnbGliMC9kZWNvZGluZydcblxuZXhwb3J0IGNvbnN0IG1lc3NhZ2VQZXJtaXNzaW9uRGVuaWVkID0gMFxuXG4vKipcbiAqIEBwYXJhbSB7ZW5jb2RpbmcuRW5jb2Rlcn0gZW5jb2RlclxuICogQHBhcmFtIHtzdHJpbmd9IHJlYXNvblxuICovXG5leHBvcnQgY29uc3Qgd3JpdGVQZXJtaXNzaW9uRGVuaWVkID0gKGVuY29kZXIsIHJlYXNvbikgPT4ge1xuICBlbmNvZGluZy53cml0ZVZhclVpbnQoZW5jb2RlciwgbWVzc2FnZVBlcm1pc3Npb25EZW5pZWQpXG4gIGVuY29kaW5nLndyaXRlVmFyU3RyaW5nKGVuY29kZXIsIHJlYXNvbilcbn1cblxuLyoqXG4gKiBAY2FsbGJhY2sgUGVybWlzc2lvbkRlbmllZEhhbmRsZXJcbiAqIEBwYXJhbSB7YW55fSB5XG4gKiBAcGFyYW0ge3N0cmluZ30gcmVhc29uXG4gKi9cblxuLyoqXG4gKlxuICogQHBhcmFtIHtkZWNvZGluZy5EZWNvZGVyfSBkZWNvZGVyXG4gKiBAcGFyYW0ge1kuRG9jfSB5XG4gKiBAcGFyYW0ge1Blcm1pc3Npb25EZW5pZWRIYW5kbGVyfSBwZXJtaXNzaW9uRGVuaWVkSGFuZGxlclxuICovXG5leHBvcnQgY29uc3QgcmVhZEF1dGhNZXNzYWdlID0gKGRlY29kZXIsIHksIHBlcm1pc3Npb25EZW5pZWRIYW5kbGVyKSA9PiB7XG4gIHN3aXRjaCAoZGVjb2RpbmcucmVhZFZhclVpbnQoZGVjb2RlcikpIHtcbiAgICBjYXNlIG1lc3NhZ2VQZXJtaXNzaW9uRGVuaWVkOiBwZXJtaXNzaW9uRGVuaWVkSGFuZGxlcih5LCBkZWNvZGluZy5yZWFkVmFyU3RyaW5nKGRlY29kZXIpKVxuICB9XG59XG4iXSwibmFtZXMiOlsiWSIsImVuY29kaW5nIiwiZGVjb2RpbmciLCJtZXNzYWdlUGVybWlzc2lvbkRlbmllZCIsIndyaXRlUGVybWlzc2lvbkRlbmllZCIsImVuY29kZXIiLCJyZWFzb24iLCJ3cml0ZVZhclVpbnQiLCJ3cml0ZVZhclN0cmluZyIsInJlYWRBdXRoTWVzc2FnZSIsImRlY29kZXIiLCJ5IiwicGVybWlzc2lvbkRlbmllZEhhbmRsZXIiLCJyZWFkVmFyVWludCIsInJlYWRWYXJTdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/y-protocols/auth.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/y-protocols/awareness.js":
/*!***********************************************!*\
  !*** ./node_modules/y-protocols/awareness.js ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Awareness: () => (/* binding */ Awareness),\n/* harmony export */   applyAwarenessUpdate: () => (/* binding */ applyAwarenessUpdate),\n/* harmony export */   encodeAwarenessUpdate: () => (/* binding */ encodeAwarenessUpdate),\n/* harmony export */   modifyAwarenessUpdate: () => (/* binding */ modifyAwarenessUpdate),\n/* harmony export */   outdatedTimeout: () => (/* binding */ outdatedTimeout),\n/* harmony export */   removeAwarenessStates: () => (/* binding */ removeAwarenessStates)\n/* harmony export */ });\n/* harmony import */ var lib0_encoding__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib0/encoding */ \"(ssr)/./node_modules/lib0/encoding.js\");\n/* harmony import */ var lib0_decoding__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lib0/decoding */ \"(ssr)/./node_modules/lib0/decoding.js\");\n/* harmony import */ var lib0_time__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib0/time */ \"(ssr)/./node_modules/lib0/time.js\");\n/* harmony import */ var lib0_math__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib0/math */ \"(ssr)/./node_modules/lib0/math.js\");\n/* harmony import */ var lib0_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib0/observable */ \"(ssr)/./node_modules/lib0/observable.js\");\n/* harmony import */ var lib0_function__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib0/function */ \"(ssr)/./node_modules/lib0/function.js\");\n/**\n * @module awareness-protocol\n */ \n\n\n\n\n\n // eslint-disable-line\nconst outdatedTimeout = 30000;\n/**\n * @typedef {Object} MetaClientState\n * @property {number} MetaClientState.clock\n * @property {number} MetaClientState.lastUpdated unix timestamp\n */ /**\n * The Awareness class implements a simple shared state protocol that can be used for non-persistent data like awareness information\n * (cursor, username, status, ..). Each client can update its own local state and listen to state changes of\n * remote clients. Every client may set a state of a remote peer to `null` to mark the client as offline.\n *\n * Each client is identified by a unique client id (something we borrow from `doc.clientID`). A client can override\n * its own state by propagating a message with an increasing timestamp (`clock`). If such a message is received, it is\n * applied if the known state of that client is older than the new state (`clock < newClock`). If a client thinks that\n * a remote client is offline, it may propagate a message with\n * `{ clock: currentClientClock, state: null, client: remoteClient }`. If such a\n * message is received, and the known clock of that client equals the received clock, it will override the state with `null`.\n *\n * Before a client disconnects, it should propagate a `null` state with an updated clock.\n *\n * Awareness states must be updated every 30 seconds. Otherwise the Awareness instance will delete the client state.\n *\n * @extends {Observable<string>}\n */ class Awareness extends lib0_observable__WEBPACK_IMPORTED_MODULE_0__.Observable {\n    /**\n   * @param {Y.Doc} doc\n   */ constructor(doc){\n        super();\n        this.doc = doc;\n        /**\n     * @type {number}\n     */ this.clientID = doc.clientID;\n        /**\n     * Maps from client id to client state\n     * @type {Map<number, Object<string, any>>}\n     */ this.states = new Map();\n        /**\n     * @type {Map<number, MetaClientState>}\n     */ this.meta = new Map();\n        this._checkInterval = /** @type {any} */ setInterval(()=>{\n            const now = lib0_time__WEBPACK_IMPORTED_MODULE_1__.getUnixTime();\n            if (this.getLocalState() !== null && outdatedTimeout / 2 <= now - /** @type {{lastUpdated:number}} */ this.meta.get(this.clientID).lastUpdated) {\n                // renew local clock\n                this.setLocalState(this.getLocalState());\n            }\n            /**\n       * @type {Array<number>}\n       */ const remove = [];\n            this.meta.forEach((meta, clientid)=>{\n                if (clientid !== this.clientID && outdatedTimeout <= now - meta.lastUpdated && this.states.has(clientid)) {\n                    remove.push(clientid);\n                }\n            });\n            if (remove.length > 0) {\n                removeAwarenessStates(this, remove, \"timeout\");\n            }\n        }, lib0_math__WEBPACK_IMPORTED_MODULE_2__.floor(outdatedTimeout / 10));\n        doc.on(\"destroy\", ()=>{\n            this.destroy();\n        });\n        this.setLocalState({});\n    }\n    destroy() {\n        this.emit(\"destroy\", [\n            this\n        ]);\n        this.setLocalState(null);\n        super.destroy();\n        clearInterval(this._checkInterval);\n    }\n    /**\n   * @return {Object<string,any>|null}\n   */ getLocalState() {\n        return this.states.get(this.clientID) || null;\n    }\n    /**\n   * @param {Object<string,any>|null} state\n   */ setLocalState(state) {\n        const clientID = this.clientID;\n        const currLocalMeta = this.meta.get(clientID);\n        const clock = currLocalMeta === undefined ? 0 : currLocalMeta.clock + 1;\n        const prevState = this.states.get(clientID);\n        if (state === null) {\n            this.states.delete(clientID);\n        } else {\n            this.states.set(clientID, state);\n        }\n        this.meta.set(clientID, {\n            clock,\n            lastUpdated: lib0_time__WEBPACK_IMPORTED_MODULE_1__.getUnixTime()\n        });\n        const added = [];\n        const updated = [];\n        const filteredUpdated = [];\n        const removed = [];\n        if (state === null) {\n            removed.push(clientID);\n        } else if (prevState == null) {\n            if (state != null) {\n                added.push(clientID);\n            }\n        } else {\n            updated.push(clientID);\n            if (!lib0_function__WEBPACK_IMPORTED_MODULE_3__.equalityDeep(prevState, state)) {\n                filteredUpdated.push(clientID);\n            }\n        }\n        if (added.length > 0 || filteredUpdated.length > 0 || removed.length > 0) {\n            this.emit(\"change\", [\n                {\n                    added,\n                    updated: filteredUpdated,\n                    removed\n                },\n                \"local\"\n            ]);\n        }\n        this.emit(\"update\", [\n            {\n                added,\n                updated,\n                removed\n            },\n            \"local\"\n        ]);\n    }\n    /**\n   * @param {string} field\n   * @param {any} value\n   */ setLocalStateField(field, value) {\n        const state = this.getLocalState();\n        if (state !== null) {\n            this.setLocalState({\n                ...state,\n                [field]: value\n            });\n        }\n    }\n    /**\n   * @return {Map<number,Object<string,any>>}\n   */ getStates() {\n        return this.states;\n    }\n}\n/**\n * Mark (remote) clients as inactive and remove them from the list of active peers.\n * This change will be propagated to remote clients.\n *\n * @param {Awareness} awareness\n * @param {Array<number>} clients\n * @param {any} origin\n */ const removeAwarenessStates = (awareness, clients, origin)=>{\n    const removed = [];\n    for(let i = 0; i < clients.length; i++){\n        const clientID = clients[i];\n        if (awareness.states.has(clientID)) {\n            awareness.states.delete(clientID);\n            if (clientID === awareness.clientID) {\n                const curMeta = /** @type {MetaClientState} */ awareness.meta.get(clientID);\n                awareness.meta.set(clientID, {\n                    clock: curMeta.clock + 1,\n                    lastUpdated: lib0_time__WEBPACK_IMPORTED_MODULE_1__.getUnixTime()\n                });\n            }\n            removed.push(clientID);\n        }\n    }\n    if (removed.length > 0) {\n        awareness.emit(\"change\", [\n            {\n                added: [],\n                updated: [],\n                removed\n            },\n            origin\n        ]);\n        awareness.emit(\"update\", [\n            {\n                added: [],\n                updated: [],\n                removed\n            },\n            origin\n        ]);\n    }\n};\n/**\n * @param {Awareness} awareness\n * @param {Array<number>} clients\n * @return {Uint8Array}\n */ const encodeAwarenessUpdate = (awareness, clients, states = awareness.states)=>{\n    const len = clients.length;\n    const encoder = lib0_encoding__WEBPACK_IMPORTED_MODULE_4__.createEncoder();\n    lib0_encoding__WEBPACK_IMPORTED_MODULE_4__.writeVarUint(encoder, len);\n    for(let i = 0; i < len; i++){\n        const clientID = clients[i];\n        const state = states.get(clientID) || null;\n        const clock = /** @type {MetaClientState} */ awareness.meta.get(clientID).clock;\n        lib0_encoding__WEBPACK_IMPORTED_MODULE_4__.writeVarUint(encoder, clientID);\n        lib0_encoding__WEBPACK_IMPORTED_MODULE_4__.writeVarUint(encoder, clock);\n        lib0_encoding__WEBPACK_IMPORTED_MODULE_4__.writeVarString(encoder, JSON.stringify(state));\n    }\n    return lib0_encoding__WEBPACK_IMPORTED_MODULE_4__.toUint8Array(encoder);\n};\n/**\n * Modify the content of an awareness update before re-encoding it to an awareness update.\n *\n * This might be useful when you have a central server that wants to ensure that clients\n * cant hijack somebody elses identity.\n *\n * @param {Uint8Array} update\n * @param {function(any):any} modify\n * @return {Uint8Array}\n */ const modifyAwarenessUpdate = (update, modify)=>{\n    const decoder = lib0_decoding__WEBPACK_IMPORTED_MODULE_5__.createDecoder(update);\n    const encoder = lib0_encoding__WEBPACK_IMPORTED_MODULE_4__.createEncoder();\n    const len = lib0_decoding__WEBPACK_IMPORTED_MODULE_5__.readVarUint(decoder);\n    lib0_encoding__WEBPACK_IMPORTED_MODULE_4__.writeVarUint(encoder, len);\n    for(let i = 0; i < len; i++){\n        const clientID = lib0_decoding__WEBPACK_IMPORTED_MODULE_5__.readVarUint(decoder);\n        const clock = lib0_decoding__WEBPACK_IMPORTED_MODULE_5__.readVarUint(decoder);\n        const state = JSON.parse(lib0_decoding__WEBPACK_IMPORTED_MODULE_5__.readVarString(decoder));\n        const modifiedState = modify(state);\n        lib0_encoding__WEBPACK_IMPORTED_MODULE_4__.writeVarUint(encoder, clientID);\n        lib0_encoding__WEBPACK_IMPORTED_MODULE_4__.writeVarUint(encoder, clock);\n        lib0_encoding__WEBPACK_IMPORTED_MODULE_4__.writeVarString(encoder, JSON.stringify(modifiedState));\n    }\n    return lib0_encoding__WEBPACK_IMPORTED_MODULE_4__.toUint8Array(encoder);\n};\n/**\n * @param {Awareness} awareness\n * @param {Uint8Array} update\n * @param {any} origin This will be added to the emitted change event\n */ const applyAwarenessUpdate = (awareness, update, origin)=>{\n    const decoder = lib0_decoding__WEBPACK_IMPORTED_MODULE_5__.createDecoder(update);\n    const timestamp = lib0_time__WEBPACK_IMPORTED_MODULE_1__.getUnixTime();\n    const added = [];\n    const updated = [];\n    const filteredUpdated = [];\n    const removed = [];\n    const len = lib0_decoding__WEBPACK_IMPORTED_MODULE_5__.readVarUint(decoder);\n    for(let i = 0; i < len; i++){\n        const clientID = lib0_decoding__WEBPACK_IMPORTED_MODULE_5__.readVarUint(decoder);\n        let clock = lib0_decoding__WEBPACK_IMPORTED_MODULE_5__.readVarUint(decoder);\n        const state = JSON.parse(lib0_decoding__WEBPACK_IMPORTED_MODULE_5__.readVarString(decoder));\n        const clientMeta = awareness.meta.get(clientID);\n        const prevState = awareness.states.get(clientID);\n        const currClock = clientMeta === undefined ? 0 : clientMeta.clock;\n        if (currClock < clock || currClock === clock && state === null && awareness.states.has(clientID)) {\n            if (state === null) {\n                // never let a remote client remove this local state\n                if (clientID === awareness.clientID && awareness.getLocalState() != null) {\n                    // remote client removed the local state. Do not remote state. Broadcast a message indicating\n                    // that this client still exists by increasing the clock\n                    clock++;\n                } else {\n                    awareness.states.delete(clientID);\n                }\n            } else {\n                awareness.states.set(clientID, state);\n            }\n            awareness.meta.set(clientID, {\n                clock,\n                lastUpdated: timestamp\n            });\n            if (clientMeta === undefined && state !== null) {\n                added.push(clientID);\n            } else if (clientMeta !== undefined && state === null) {\n                removed.push(clientID);\n            } else if (state !== null) {\n                if (!lib0_function__WEBPACK_IMPORTED_MODULE_3__.equalityDeep(state, prevState)) {\n                    filteredUpdated.push(clientID);\n                }\n                updated.push(clientID);\n            }\n        }\n    }\n    if (added.length > 0 || filteredUpdated.length > 0 || removed.length > 0) {\n        awareness.emit(\"change\", [\n            {\n                added,\n                updated: filteredUpdated,\n                removed\n            },\n            origin\n        ]);\n    }\n    if (added.length > 0 || updated.length > 0 || removed.length > 0) {\n        awareness.emit(\"update\", [\n            {\n                added,\n                updated,\n                removed\n            },\n            origin\n        ]);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveS1wcm90b2NvbHMvYXdhcmVuZXNzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztDQUVDLEdBRXdDO0FBQ0E7QUFDUjtBQUNBO0FBQ1c7QUFDVjtBQUNWLENBQUMsc0JBQXNCO0FBRXhDLE1BQU1PLGtCQUFrQixNQUFLO0FBRXBDOzs7O0NBSUMsR0FFRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FpQkMsR0FDTSxNQUFNQyxrQkFBa0JKLHVEQUFVQTtJQUN2Qzs7R0FFQyxHQUNESyxZQUFhQyxHQUFHLENBQUU7UUFDaEIsS0FBSztRQUNMLElBQUksQ0FBQ0EsR0FBRyxHQUFHQTtRQUNYOztLQUVDLEdBQ0QsSUFBSSxDQUFDQyxRQUFRLEdBQUdELElBQUlDLFFBQVE7UUFDNUI7OztLQUdDLEdBQ0QsSUFBSSxDQUFDQyxNQUFNLEdBQUcsSUFBSUM7UUFDbEI7O0tBRUMsR0FDRCxJQUFJLENBQUNDLElBQUksR0FBRyxJQUFJRDtRQUNoQixJQUFJLENBQUNFLGNBQWMsR0FBRyxnQkFBZ0IsR0FBSUMsWUFBWTtZQUNwRCxNQUFNQyxNQUFNZixrREFBZ0I7WUFDNUIsSUFBSSxJQUFJLENBQUNpQixhQUFhLE9BQU8sUUFBU1osa0JBQWtCLEtBQUtVLE1BQTBDLGlDQUFILEdBQUksSUFBSSxDQUFDSCxJQUFJLENBQUNNLEdBQUcsQ0FBQyxJQUFJLENBQUNULFFBQVEsRUFBR1UsV0FBVyxFQUFHO2dCQUNsSixvQkFBb0I7Z0JBQ3BCLElBQUksQ0FBQ0MsYUFBYSxDQUFDLElBQUksQ0FBQ0gsYUFBYTtZQUN2QztZQUNBOztPQUVDLEdBQ0QsTUFBTUksU0FBUyxFQUFFO1lBQ2pCLElBQUksQ0FBQ1QsSUFBSSxDQUFDVSxPQUFPLENBQUMsQ0FBQ1YsTUFBTVc7Z0JBQ3ZCLElBQUlBLGFBQWEsSUFBSSxDQUFDZCxRQUFRLElBQUlKLG1CQUFtQlUsTUFBTUgsS0FBS08sV0FBVyxJQUFJLElBQUksQ0FBQ1QsTUFBTSxDQUFDYyxHQUFH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aUUsZUFBZXRDLGFBQWFILFVBQVUsTUFBTTtnQkFDckRVLFFBQVFsQixJQUFJLENBQUNoQjtZQUNmLE9BQU8sSUFBSXdCLFVBQVUsTUFBTTtnQkFDekIsSUFBSSxDQUFDOUIsdURBQWMsQ0FBQzhCLE9BQU9JLFlBQVk7b0JBQ3JDSyxnQkFBZ0JqQixJQUFJLENBQUNoQjtnQkFDdkI7Z0JBQ0FnQyxRQUFRaEIsSUFBSSxDQUFDaEI7WUFDZjtRQUNGO0lBQ0Y7SUFDQSxJQUFJK0IsTUFBTWQsTUFBTSxHQUFHLEtBQUtnQixnQkFBZ0JoQixNQUFNLEdBQUcsS0FBS2lCLFFBQVFqQixNQUFNLEdBQUcsR0FBRztRQUN4RXVCLFVBQVVsQixJQUFJLENBQUMsVUFBVTtZQUFDO2dCQUN4QlM7Z0JBQU9DLFNBQVNDO2dCQUFpQkM7WUFDbkM7WUFBR1E7U0FBTztJQUNaO0lBQ0EsSUFBSVgsTUFBTWQsTUFBTSxHQUFHLEtBQUtlLFFBQVFmLE1BQU0sR0FBRyxLQUFLaUIsUUFBUWpCLE1BQU0sR0FBRyxHQUFHO1FBQ2hFdUIsVUFBVWxCLElBQUksQ0FBQyxVQUFVO1lBQUM7Z0JBQ3hCUztnQkFBT0M7Z0JBQVNFO1lBQ2xCO1lBQUdRO1NBQU87SUFDWjtBQUNGLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zeW5jZHJhdy1jbGllbnQvLi9ub2RlX21vZHVsZXMveS1wcm90b2NvbHMvYXdhcmVuZXNzLmpzPzZjNTYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbW9kdWxlIGF3YXJlbmVzcy1wcm90b2NvbFxuICovXG5cbmltcG9ydCAqIGFzIGVuY29kaW5nIGZyb20gJ2xpYjAvZW5jb2RpbmcnXG5pbXBvcnQgKiBhcyBkZWNvZGluZyBmcm9tICdsaWIwL2RlY29kaW5nJ1xuaW1wb3J0ICogYXMgdGltZSBmcm9tICdsaWIwL3RpbWUnXG5pbXBvcnQgKiBhcyBtYXRoIGZyb20gJ2xpYjAvbWF0aCdcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdsaWIwL29ic2VydmFibGUnXG5pbXBvcnQgKiBhcyBmIGZyb20gJ2xpYjAvZnVuY3Rpb24nXG5pbXBvcnQgKiBhcyBZIGZyb20gJ3lqcycgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG5leHBvcnQgY29uc3Qgb3V0ZGF0ZWRUaW1lb3V0ID0gMzAwMDBcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBNZXRhQ2xpZW50U3RhdGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNZXRhQ2xpZW50U3RhdGUuY2xvY2tcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNZXRhQ2xpZW50U3RhdGUubGFzdFVwZGF0ZWQgdW5peCB0aW1lc3RhbXBcbiAqL1xuXG4vKipcbiAqIFRoZSBBd2FyZW5lc3MgY2xhc3MgaW1wbGVtZW50cyBhIHNpbXBsZSBzaGFyZWQgc3RhdGUgcHJvdG9jb2wgdGhhdCBjYW4gYmUgdXNlZCBmb3Igbm9uLXBlcnNpc3RlbnQgZGF0YSBsaWtlIGF3YXJlbmVzcyBpbmZvcm1hdGlvblxuICogKGN1cnNvciwgdXNlcm5hbWUsIHN0YXR1cywgLi4pLiBFYWNoIGNsaWVudCBjYW4gdXBkYXRlIGl0cyBvd24gbG9jYWwgc3RhdGUgYW5kIGxpc3RlbiB0byBzdGF0ZSBjaGFuZ2VzIG9mXG4gKiByZW1vdGUgY2xpZW50cy4gRXZlcnkgY2xpZW50IG1heSBzZXQgYSBzdGF0ZSBvZiBhIHJlbW90ZSBwZWVyIHRvIGBudWxsYCB0byBtYXJrIHRoZSBjbGllbnQgYXMgb2ZmbGluZS5cbiAqXG4gKiBFYWNoIGNsaWVudCBpcyBpZGVudGlmaWVkIGJ5IGEgdW5pcXVlIGNsaWVudCBpZCAoc29tZXRoaW5nIHdlIGJvcnJvdyBmcm9tIGBkb2MuY2xpZW50SURgKS4gQSBjbGllbnQgY2FuIG92ZXJyaWRlXG4gKiBpdHMgb3duIHN0YXRlIGJ5IHByb3BhZ2F0aW5nIGEgbWVzc2FnZSB3aXRoIGFuIGluY3JlYXNpbmcgdGltZXN0YW1wIChgY2xvY2tgKS4gSWYgc3VjaCBhIG1lc3NhZ2UgaXMgcmVjZWl2ZWQsIGl0IGlzXG4gKiBhcHBsaWVkIGlmIHRoZSBrbm93biBzdGF0ZSBvZiB0aGF0IGNsaWVudCBpcyBvbGRlciB0aGFuIHRoZSBuZXcgc3RhdGUgKGBjbG9jayA8IG5ld0Nsb2NrYCkuIElmIGEgY2xpZW50IHRoaW5rcyB0aGF0XG4gKiBhIHJlbW90ZSBjbGllbnQgaXMgb2ZmbGluZSwgaXQgbWF5IHByb3BhZ2F0ZSBhIG1lc3NhZ2Ugd2l0aFxuICogYHsgY2xvY2s6IGN1cnJlbnRDbGllbnRDbG9jaywgc3RhdGU6IG51bGwsIGNsaWVudDogcmVtb3RlQ2xpZW50IH1gLiBJZiBzdWNoIGFcbiAqIG1lc3NhZ2UgaXMgcmVjZWl2ZWQsIGFuZCB0aGUga25vd24gY2xvY2sgb2YgdGhhdCBjbGllbnQgZXF1YWxzIHRoZSByZWNlaXZlZCBjbG9jaywgaXQgd2lsbCBvdmVycmlkZSB0aGUgc3RhdGUgd2l0aCBgbnVsbGAuXG4gKlxuICogQmVmb3JlIGEgY2xpZW50IGRpc2Nvbm5lY3RzLCBpdCBzaG91bGQgcHJvcGFnYXRlIGEgYG51bGxgIHN0YXRlIHdpdGggYW4gdXBkYXRlZCBjbG9jay5cbiAqXG4gKiBBd2FyZW5lc3Mgc3RhdGVzIG11c3QgYmUgdXBkYXRlZCBldmVyeSAzMCBzZWNvbmRzLiBPdGhlcndpc2UgdGhlIEF3YXJlbmVzcyBpbnN0YW5jZSB3aWxsIGRlbGV0ZSB0aGUgY2xpZW50IHN0YXRlLlxuICpcbiAqIEBleHRlbmRzIHtPYnNlcnZhYmxlPHN0cmluZz59XG4gKi9cbmV4cG9ydCBjbGFzcyBBd2FyZW5lc3MgZXh0ZW5kcyBPYnNlcnZhYmxlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7WS5Eb2N9IGRvY1xuICAgKi9cbiAgY29uc3RydWN0b3IgKGRvYykge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLmRvYyA9IGRvY1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5jbGllbnRJRCA9IGRvYy5jbGllbnRJRFxuICAgIC8qKlxuICAgICAqIE1hcHMgZnJvbSBjbGllbnQgaWQgdG8gY2xpZW50IHN0YXRlXG4gICAgICogQHR5cGUge01hcDxudW1iZXIsIE9iamVjdDxzdHJpbmcsIGFueT4+fVxuICAgICAqL1xuICAgIHRoaXMuc3RhdGVzID0gbmV3IE1hcCgpXG4gICAgLyoqXG4gICAgICogQHR5cGUge01hcDxudW1iZXIsIE1ldGFDbGllbnRTdGF0ZT59XG4gICAgICovXG4gICAgdGhpcy5tZXRhID0gbmV3IE1hcCgpXG4gICAgdGhpcy5fY2hlY2tJbnRlcnZhbCA9IC8qKiBAdHlwZSB7YW55fSAqLyAoc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgY29uc3Qgbm93ID0gdGltZS5nZXRVbml4VGltZSgpXG4gICAgICBpZiAodGhpcy5nZXRMb2NhbFN0YXRlKCkgIT09IG51bGwgJiYgKG91dGRhdGVkVGltZW91dCAvIDIgPD0gbm93IC0gLyoqIEB0eXBlIHt7bGFzdFVwZGF0ZWQ6bnVtYmVyfX0gKi8gKHRoaXMubWV0YS5nZXQodGhpcy5jbGllbnRJRCkpLmxhc3RVcGRhdGVkKSkge1xuICAgICAgICAvLyByZW5ldyBsb2NhbCBjbG9ja1xuICAgICAgICB0aGlzLnNldExvY2FsU3RhdGUodGhpcy5nZXRMb2NhbFN0YXRlKCkpXG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAgICovXG4gICAgICBjb25zdCByZW1vdmUgPSBbXVxuICAgICAgdGhpcy5tZXRhLmZvckVhY2goKG1ldGEsIGNsaWVudGlkKSA9PiB7XG4gICAgICAgIGlmIChjbGllbnRpZCAhPT0gdGhpcy5jbGllbnRJRCAmJiBvdXRkYXRlZFRpbWVvdXQgPD0gbm93IC0gbWV0YS5sYXN0VXBkYXRlZCAmJiB0aGlzLnN0YXRlcy5oYXMoY2xpZW50aWQpKSB7XG4gICAgICAgICAgcmVtb3ZlLnB1c2goY2xpZW50aWQpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICBpZiAocmVtb3ZlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVtb3ZlQXdhcmVuZXNzU3RhdGVzKHRoaXMsIHJlbW92ZSwgJ3RpbWVvdXQnKVxuICAgICAgfVxuICAgIH0sIG1hdGguZmxvb3Iob3V0ZGF0ZWRUaW1lb3V0IC8gMTApKSlcbiAgICBkb2Mub24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgICB0aGlzLmRlc3Ryb3koKVxuICAgIH0pXG4gICAgdGhpcy5zZXRMb2NhbFN0YXRlKHt9KVxuICB9XG5cbiAgZGVzdHJveSAoKSB7XG4gICAgdGhpcy5lbWl0KCdkZXN0cm95JywgW3RoaXNdKVxuICAgIHRoaXMuc2V0TG9jYWxTdGF0ZShudWxsKVxuICAgIHN1cGVyLmRlc3Ryb3koKVxuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fY2hlY2tJbnRlcnZhbClcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtPYmplY3Q8c3RyaW5nLGFueT58bnVsbH1cbiAgICovXG4gIGdldExvY2FsU3RhdGUgKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlcy5nZXQodGhpcy5jbGllbnRJRCkgfHwgbnVsbFxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZyxhbnk+fG51bGx9IHN0YXRlXG4gICAqL1xuICBzZXRMb2NhbFN0YXRlIChzdGF0ZSkge1xuICAgIGNvbnN0IGNsaWVudElEID0gdGhpcy5jbGllbnRJRFxuICAgIGNvbnN0IGN1cnJMb2NhbE1ldGEgPSB0aGlzLm1ldGEuZ2V0KGNsaWVudElEKVxuICAgIGNvbnN0IGNsb2NrID0gY3VyckxvY2FsTWV0YSA9PT0gdW5kZWZpbmVkID8gMCA6IGN1cnJMb2NhbE1ldGEuY2xvY2sgKyAxXG4gICAgY29uc3QgcHJldlN0YXRlID0gdGhpcy5zdGF0ZXMuZ2V0KGNsaWVudElEKVxuICAgIGlmIChzdGF0ZSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5zdGF0ZXMuZGVsZXRlKGNsaWVudElEKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YXRlcy5zZXQoY2xpZW50SUQsIHN0YXRlKVxuICAgIH1cbiAgICB0aGlzLm1ldGEuc2V0KGNsaWVudElELCB7XG4gICAgICBjbG9jayxcbiAgICAgIGxhc3RVcGRhdGVkOiB0aW1lLmdldFVuaXhUaW1lKClcbiAgICB9KVxuICAgIGNvbnN0IGFkZGVkID0gW11cbiAgICBjb25zdCB1cGRhdGVkID0gW11cbiAgICBjb25zdCBmaWx0ZXJlZFVwZGF0ZWQgPSBbXVxuICAgIGNvbnN0IHJlbW92ZWQgPSBbXVxuICAgIGlmIChzdGF0ZSA9PT0gbnVsbCkge1xuICAgICAgcmVtb3ZlZC5wdXNoKGNsaWVudElEKVxuICAgIH0gZWxzZSBpZiAocHJldlN0YXRlID09IG51bGwpIHtcbiAgICAgIGlmIChzdGF0ZSAhPSBudWxsKSB7XG4gICAgICAgIGFkZGVkLnB1c2goY2xpZW50SUQpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHVwZGF0ZWQucHVzaChjbGllbnRJRClcbiAgICAgIGlmICghZi5lcXVhbGl0eURlZXAocHJldlN0YXRlLCBzdGF0ZSkpIHtcbiAgICAgICAgZmlsdGVyZWRVcGRhdGVkLnB1c2goY2xpZW50SUQpXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChhZGRlZC5sZW5ndGggPiAwIHx8IGZpbHRlcmVkVXBkYXRlZC5sZW5ndGggPiAwIHx8IHJlbW92ZWQubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCBbeyBhZGRlZCwgdXBkYXRlZDogZmlsdGVyZWRVcGRhdGVkLCByZW1vdmVkIH0sICdsb2NhbCddKVxuICAgIH1cbiAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIFt7IGFkZGVkLCB1cGRhdGVkLCByZW1vdmVkIH0sICdsb2NhbCddKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZFxuICAgKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAgICovXG4gIHNldExvY2FsU3RhdGVGaWVsZCAoZmllbGQsIHZhbHVlKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLmdldExvY2FsU3RhdGUoKVxuICAgIGlmIChzdGF0ZSAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5zZXRMb2NhbFN0YXRlKHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIFtmaWVsZF06IHZhbHVlXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtNYXA8bnVtYmVyLE9iamVjdDxzdHJpbmcsYW55Pj59XG4gICAqL1xuICBnZXRTdGF0ZXMgKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlc1xuICB9XG59XG5cbi8qKlxuICogTWFyayAocmVtb3RlKSBjbGllbnRzIGFzIGluYWN0aXZlIGFuZCByZW1vdmUgdGhlbSBmcm9tIHRoZSBsaXN0IG9mIGFjdGl2ZSBwZWVycy5cbiAqIFRoaXMgY2hhbmdlIHdpbGwgYmUgcHJvcGFnYXRlZCB0byByZW1vdGUgY2xpZW50cy5cbiAqXG4gKiBAcGFyYW0ge0F3YXJlbmVzc30gYXdhcmVuZXNzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGNsaWVudHNcbiAqIEBwYXJhbSB7YW55fSBvcmlnaW5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlbW92ZUF3YXJlbmVzc1N0YXRlcyA9IChhd2FyZW5lc3MsIGNsaWVudHMsIG9yaWdpbikgPT4ge1xuICBjb25zdCByZW1vdmVkID0gW11cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjbGllbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2xpZW50SUQgPSBjbGllbnRzW2ldXG4gICAgaWYgKGF3YXJlbmVzcy5zdGF0ZXMuaGFzKGNsaWVudElEKSkge1xuICAgICAgYXdhcmVuZXNzLnN0YXRlcy5kZWxldGUoY2xpZW50SUQpXG4gICAgICBpZiAoY2xpZW50SUQgPT09IGF3YXJlbmVzcy5jbGllbnRJRCkge1xuICAgICAgICBjb25zdCBjdXJNZXRhID0gLyoqIEB0eXBlIHtNZXRhQ2xpZW50U3RhdGV9ICovIChhd2FyZW5lc3MubWV0YS5nZXQoY2xpZW50SUQpKVxuICAgICAgICBhd2FyZW5lc3MubWV0YS5zZXQoY2xpZW50SUQsIHtcbiAgICAgICAgICBjbG9jazogY3VyTWV0YS5jbG9jayArIDEsXG4gICAgICAgICAgbGFzdFVwZGF0ZWQ6IHRpbWUuZ2V0VW5peFRpbWUoKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgcmVtb3ZlZC5wdXNoKGNsaWVudElEKVxuICAgIH1cbiAgfVxuICBpZiAocmVtb3ZlZC5sZW5ndGggPiAwKSB7XG4gICAgYXdhcmVuZXNzLmVtaXQoJ2NoYW5nZScsIFt7IGFkZGVkOiBbXSwgdXBkYXRlZDogW10sIHJlbW92ZWQgfSwgb3JpZ2luXSlcbiAgICBhd2FyZW5lc3MuZW1pdCgndXBkYXRlJywgW3sgYWRkZWQ6IFtdLCB1cGRhdGVkOiBbXSwgcmVtb3ZlZCB9LCBvcmlnaW5dKVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtBd2FyZW5lc3N9IGF3YXJlbmVzc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjbGllbnRzXG4gKiBAcmV0dXJuIHtVaW50OEFycmF5fVxuICovXG5leHBvcnQgY29uc3QgZW5jb2RlQXdhcmVuZXNzVXBkYXRlID0gKGF3YXJlbmVzcywgY2xpZW50cywgc3RhdGVzID0gYXdhcmVuZXNzLnN0YXRlcykgPT4ge1xuICBjb25zdCBsZW4gPSBjbGllbnRzLmxlbmd0aFxuICBjb25zdCBlbmNvZGVyID0gZW5jb2RpbmcuY3JlYXRlRW5jb2RlcigpXG4gIGVuY29kaW5nLndyaXRlVmFyVWludChlbmNvZGVyLCBsZW4pXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjb25zdCBjbGllbnRJRCA9IGNsaWVudHNbaV1cbiAgICBjb25zdCBzdGF0ZSA9IHN0YXRlcy5nZXQoY2xpZW50SUQpIHx8IG51bGxcbiAgICBjb25zdCBjbG9jayA9IC8qKiBAdHlwZSB7TWV0YUNsaWVudFN0YXRlfSAqLyAoYXdhcmVuZXNzLm1ldGEuZ2V0KGNsaWVudElEKSkuY2xvY2tcbiAgICBlbmNvZGluZy53cml0ZVZhclVpbnQoZW5jb2RlciwgY2xpZW50SUQpXG4gICAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KGVuY29kZXIsIGNsb2NrKVxuICAgIGVuY29kaW5nLndyaXRlVmFyU3RyaW5nKGVuY29kZXIsIEpTT04uc3RyaW5naWZ5KHN0YXRlKSlcbiAgfVxuICByZXR1cm4gZW5jb2RpbmcudG9VaW50OEFycmF5KGVuY29kZXIpXG59XG5cbi8qKlxuICogTW9kaWZ5IHRoZSBjb250ZW50IG9mIGFuIGF3YXJlbmVzcyB1cGRhdGUgYmVmb3JlIHJlLWVuY29kaW5nIGl0IHRvIGFuIGF3YXJlbmVzcyB1cGRhdGUuXG4gKlxuICogVGhpcyBtaWdodCBiZSB1c2VmdWwgd2hlbiB5b3UgaGF2ZSBhIGNlbnRyYWwgc2VydmVyIHRoYXQgd2FudHMgdG8gZW5zdXJlIHRoYXQgY2xpZW50c1xuICogY2FudCBoaWphY2sgc29tZWJvZHkgZWxzZXMgaWRlbnRpdHkuXG4gKlxuICogQHBhcmFtIHtVaW50OEFycmF5fSB1cGRhdGVcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oYW55KTphbnl9IG1vZGlmeVxuICogQHJldHVybiB7VWludDhBcnJheX1cbiAqL1xuZXhwb3J0IGNvbnN0IG1vZGlmeUF3YXJlbmVzc1VwZGF0ZSA9ICh1cGRhdGUsIG1vZGlmeSkgPT4ge1xuICBjb25zdCBkZWNvZGVyID0gZGVjb2RpbmcuY3JlYXRlRGVjb2Rlcih1cGRhdGUpXG4gIGNvbnN0IGVuY29kZXIgPSBlbmNvZGluZy5jcmVhdGVFbmNvZGVyKClcbiAgY29uc3QgbGVuID0gZGVjb2RpbmcucmVhZFZhclVpbnQoZGVjb2RlcilcbiAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KGVuY29kZXIsIGxlbilcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGNvbnN0IGNsaWVudElEID0gZGVjb2RpbmcucmVhZFZhclVpbnQoZGVjb2RlcilcbiAgICBjb25zdCBjbG9jayA9IGRlY29kaW5nLnJlYWRWYXJVaW50KGRlY29kZXIpXG4gICAgY29uc3Qgc3RhdGUgPSBKU09OLnBhcnNlKGRlY29kaW5nLnJlYWRWYXJTdHJpbmcoZGVjb2RlcikpXG4gICAgY29uc3QgbW9kaWZpZWRTdGF0ZSA9IG1vZGlmeShzdGF0ZSlcbiAgICBlbmNvZGluZy53cml0ZVZhclVpbnQoZW5jb2RlciwgY2xpZW50SUQpXG4gICAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KGVuY29kZXIsIGNsb2NrKVxuICAgIGVuY29kaW5nLndyaXRlVmFyU3RyaW5nKGVuY29kZXIsIEpTT04uc3RyaW5naWZ5KG1vZGlmaWVkU3RhdGUpKVxuICB9XG4gIHJldHVybiBlbmNvZGluZy50b1VpbnQ4QXJyYXkoZW5jb2Rlcilcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0F3YXJlbmVzc30gYXdhcmVuZXNzXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IHVwZGF0ZVxuICogQHBhcmFtIHthbnl9IG9yaWdpbiBUaGlzIHdpbGwgYmUgYWRkZWQgdG8gdGhlIGVtaXR0ZWQgY2hhbmdlIGV2ZW50XG4gKi9cbmV4cG9ydCBjb25zdCBhcHBseUF3YXJlbmVzc1VwZGF0ZSA9IChhd2FyZW5lc3MsIHVwZGF0ZSwgb3JpZ2luKSA9PiB7XG4gIGNvbnN0IGRlY29kZXIgPSBkZWNvZGluZy5jcmVhdGVEZWNvZGVyKHVwZGF0ZSlcbiAgY29uc3QgdGltZXN0YW1wID0gdGltZS5nZXRVbml4VGltZSgpXG4gIGNvbnN0IGFkZGVkID0gW11cbiAgY29uc3QgdXBkYXRlZCA9IFtdXG4gIGNvbnN0IGZpbHRlcmVkVXBkYXRlZCA9IFtdXG4gIGNvbnN0IHJlbW92ZWQgPSBbXVxuICBjb25zdCBsZW4gPSBkZWNvZGluZy5yZWFkVmFyVWludChkZWNvZGVyKVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY29uc3QgY2xpZW50SUQgPSBkZWNvZGluZy5yZWFkVmFyVWludChkZWNvZGVyKVxuICAgIGxldCBjbG9jayA9IGRlY29kaW5nLnJlYWRWYXJVaW50KGRlY29kZXIpXG4gICAgY29uc3Qgc3RhdGUgPSBKU09OLnBhcnNlKGRlY29kaW5nLnJlYWRWYXJTdHJpbmcoZGVjb2RlcikpXG4gICAgY29uc3QgY2xpZW50TWV0YSA9IGF3YXJlbmVzcy5tZXRhLmdldChjbGllbnRJRClcbiAgICBjb25zdCBwcmV2U3RhdGUgPSBhd2FyZW5lc3Muc3RhdGVzLmdldChjbGllbnRJRClcbiAgICBjb25zdCBjdXJyQ2xvY2sgPSBjbGllbnRNZXRhID09PSB1bmRlZmluZWQgPyAwIDogY2xpZW50TWV0YS5jbG9ja1xuICAgIGlmIChjdXJyQ2xvY2sgPCBjbG9jayB8fCAoY3VyckNsb2NrID09PSBjbG9jayAmJiBzdGF0ZSA9PT0gbnVsbCAmJiBhd2FyZW5lc3Muc3RhdGVzLmhhcyhjbGllbnRJRCkpKSB7XG4gICAgICBpZiAoc3RhdGUgPT09IG51bGwpIHtcbiAgICAgICAgLy8gbmV2ZXIgbGV0IGEgcmVtb3RlIGNsaWVudCByZW1vdmUgdGhpcyBsb2NhbCBzdGF0ZVxuICAgICAgICBpZiAoY2xpZW50SUQgPT09IGF3YXJlbmVzcy5jbGllbnRJRCAmJiBhd2FyZW5lc3MuZ2V0TG9jYWxTdGF0ZSgpICE9IG51bGwpIHtcbiAgICAgICAgICAvLyByZW1vdGUgY2xpZW50IHJlbW92ZWQgdGhlIGxvY2FsIHN0YXRlLiBEbyBub3QgcmVtb3RlIHN0YXRlLiBCcm9hZGNhc3QgYSBtZXNzYWdlIGluZGljYXRpbmdcbiAgICAgICAgICAvLyB0aGF0IHRoaXMgY2xpZW50IHN0aWxsIGV4aXN0cyBieSBpbmNyZWFzaW5nIHRoZSBjbG9ja1xuICAgICAgICAgIGNsb2NrKytcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhd2FyZW5lc3Muc3RhdGVzLmRlbGV0ZShjbGllbnRJRClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXdhcmVuZXNzLnN0YXRlcy5zZXQoY2xpZW50SUQsIHN0YXRlKVxuICAgICAgfVxuICAgICAgYXdhcmVuZXNzLm1ldGEuc2V0KGNsaWVudElELCB7XG4gICAgICAgIGNsb2NrLFxuICAgICAgICBsYXN0VXBkYXRlZDogdGltZXN0YW1wXG4gICAgICB9KVxuICAgICAgaWYgKGNsaWVudE1ldGEgPT09IHVuZGVmaW5lZCAmJiBzdGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICBhZGRlZC5wdXNoKGNsaWVudElEKVxuICAgICAgfSBlbHNlIGlmIChjbGllbnRNZXRhICE9PSB1bmRlZmluZWQgJiYgc3RhdGUgPT09IG51bGwpIHtcbiAgICAgICAgcmVtb3ZlZC5wdXNoKGNsaWVudElEKVxuICAgICAgfSBlbHNlIGlmIChzdGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoIWYuZXF1YWxpdHlEZWVwKHN0YXRlLCBwcmV2U3RhdGUpKSB7XG4gICAgICAgICAgZmlsdGVyZWRVcGRhdGVkLnB1c2goY2xpZW50SUQpXG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlZC5wdXNoKGNsaWVudElEKVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoYWRkZWQubGVuZ3RoID4gMCB8fCBmaWx0ZXJlZFVwZGF0ZWQubGVuZ3RoID4gMCB8fCByZW1vdmVkLmxlbmd0aCA+IDApIHtcbiAgICBhd2FyZW5lc3MuZW1pdCgnY2hhbmdlJywgW3tcbiAgICAgIGFkZGVkLCB1cGRhdGVkOiBmaWx0ZXJlZFVwZGF0ZWQsIHJlbW92ZWRcbiAgICB9LCBvcmlnaW5dKVxuICB9XG4gIGlmIChhZGRlZC5sZW5ndGggPiAwIHx8IHVwZGF0ZWQubGVuZ3RoID4gMCB8fCByZW1vdmVkLmxlbmd0aCA+IDApIHtcbiAgICBhd2FyZW5lc3MuZW1pdCgndXBkYXRlJywgW3tcbiAgICAgIGFkZGVkLCB1cGRhdGVkLCByZW1vdmVkXG4gICAgfSwgb3JpZ2luXSlcbiAgfVxufVxuIl0sIm5hbWVzIjpbImVuY29kaW5nIiwiZGVjb2RpbmciLCJ0aW1lIiwibWF0aCIsIk9ic2VydmFibGUiLCJmIiwiWSIsIm91dGRhdGVkVGltZW91dCIsIkF3YXJlbmVzcyIsImNvbnN0cnVjdG9yIiwiZG9jIiwiY2xpZW50SUQiLCJzdGF0ZXMiLCJNYXAiLCJtZXRhIiwiX2NoZWNrSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsIm5vdyIsImdldFVuaXhUaW1lIiwiZ2V0TG9jYWxTdGF0ZSIsImdldCIsImxhc3RVcGRhdGVkIiwic2V0TG9jYWxTdGF0ZSIsInJlbW92ZSIsImZvckVhY2giLCJjbGllbnRpZCIsImhhcyIsInB1c2giLCJsZW5ndGgiLCJyZW1vdmVBd2FyZW5lc3NTdGF0ZXMiLCJmbG9vciIsIm9uIiwiZGVzdHJveSIsImVtaXQiLCJjbGVhckludGVydmFsIiwic3RhdGUiLCJjdXJyTG9jYWxNZXRhIiwiY2xvY2siLCJ1bmRlZmluZWQiLCJwcmV2U3RhdGUiLCJkZWxldGUiLCJzZXQiLCJhZGRlZCIsInVwZGF0ZWQiLCJmaWx0ZXJlZFVwZGF0ZWQiLCJyZW1vdmVkIiwiZXF1YWxpdHlEZWVwIiwic2V0TG9jYWxTdGF0ZUZpZWxkIiwiZmllbGQiLCJ2YWx1ZSIsImdldFN0YXRlcyIsImF3YXJlbmVzcyIsImNsaWVudHMiLCJvcmlnaW4iLCJpIiwiY3VyTWV0YSIsImVuY29kZUF3YXJlbmVzc1VwZGF0ZSIsImxlbiIsImVuY29kZXIiLCJjcmVhdGVFbmNvZGVyIiwid3JpdGVWYXJVaW50Iiwid3JpdGVWYXJTdHJpbmciLCJKU09OIiwic3RyaW5naWZ5IiwidG9VaW50OEFycmF5IiwibW9kaWZ5QXdhcmVuZXNzVXBkYXRlIiwidXBkYXRlIiwibW9kaWZ5IiwiZGVjb2RlciIsImNyZWF0ZURlY29kZXIiLCJyZWFkVmFyVWludCIsInBhcnNlIiwicmVhZFZhclN0cmluZyIsIm1vZGlmaWVkU3RhdGUiLCJhcHBseUF3YXJlbmVzc1VwZGF0ZSIsInRpbWVzdGFtcCIsImNsaWVudE1ldGEiLCJjdXJyQ2xvY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/y-protocols/awareness.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/y-protocols/sync.js":
/*!******************************************!*\
  !*** ./node_modules/y-protocols/sync.js ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   messageYjsSyncStep1: () => (/* binding */ messageYjsSyncStep1),\n/* harmony export */   messageYjsSyncStep2: () => (/* binding */ messageYjsSyncStep2),\n/* harmony export */   messageYjsUpdate: () => (/* binding */ messageYjsUpdate),\n/* harmony export */   readSyncMessage: () => (/* binding */ readSyncMessage),\n/* harmony export */   readSyncStep1: () => (/* binding */ readSyncStep1),\n/* harmony export */   readSyncStep2: () => (/* binding */ readSyncStep2),\n/* harmony export */   readUpdate: () => (/* binding */ readUpdate),\n/* harmony export */   writeSyncStep1: () => (/* binding */ writeSyncStep1),\n/* harmony export */   writeSyncStep2: () => (/* binding */ writeSyncStep2),\n/* harmony export */   writeUpdate: () => (/* binding */ writeUpdate)\n/* harmony export */ });\n/* harmony import */ var lib0_encoding__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib0/encoding */ \"(ssr)/./node_modules/lib0/encoding.js\");\n/* harmony import */ var lib0_decoding__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib0/decoding */ \"(ssr)/./node_modules/lib0/decoding.js\");\n/* harmony import */ var yjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! yjs */ \"(ssr)/./node_modules/yjs/dist/yjs.mjs\");\n/**\n * @module sync-protocol\n */ \n\n\n/**\n * @typedef {Map<number, number>} StateMap\n */ /**\n * Core Yjs defines two message types:\n * • YjsSyncStep1: Includes the State Set of the sending client. When received, the client should reply with YjsSyncStep2.\n * • YjsSyncStep2: Includes all missing structs and the complete delete set. When received, the client is assured that it\n *   received all information from the remote client.\n *\n * In a peer-to-peer network, you may want to introduce a SyncDone message type. Both parties should initiate the connection\n * with SyncStep1. When a client received SyncStep2, it should reply with SyncDone. When the local client received both\n * SyncStep2 and SyncDone, it is assured that it is synced to the remote client.\n *\n * In a client-server model, you want to handle this differently: The client should initiate the connection with SyncStep1.\n * When the server receives SyncStep1, it should reply with SyncStep2 immediately followed by SyncStep1. The client replies\n * with SyncStep2 when it receives SyncStep1. Optionally the server may send a SyncDone after it received SyncStep2, so the\n * client knows that the sync is finished.  There are two reasons for this more elaborated sync model: 1. This protocol can\n * easily be implemented on top of http and websockets. 2. The server should only reply to requests, and not initiate them.\n * Therefore it is necessary that the client initiates the sync.\n *\n * Construction of a message:\n * [messageType : varUint, message definition..]\n *\n * Note: A message does not include information about the room name. This must to be handled by the upper layer protocol!\n *\n * stringify[messageType] stringifies a message definition (messageType is already read from the bufffer)\n */ const messageYjsSyncStep1 = 0;\nconst messageYjsSyncStep2 = 1;\nconst messageYjsUpdate = 2;\n/**\n * Create a sync step 1 message based on the state of the current shared document.\n *\n * @param {encoding.Encoder} encoder\n * @param {Y.Doc} doc\n */ const writeSyncStep1 = (encoder, doc)=>{\n    lib0_encoding__WEBPACK_IMPORTED_MODULE_0__.writeVarUint(encoder, messageYjsSyncStep1);\n    const sv = yjs__WEBPACK_IMPORTED_MODULE_1__.encodeStateVector(doc);\n    lib0_encoding__WEBPACK_IMPORTED_MODULE_0__.writeVarUint8Array(encoder, sv);\n};\n/**\n * @param {encoding.Encoder} encoder\n * @param {Y.Doc} doc\n * @param {Uint8Array} [encodedStateVector]\n */ const writeSyncStep2 = (encoder, doc, encodedStateVector)=>{\n    lib0_encoding__WEBPACK_IMPORTED_MODULE_0__.writeVarUint(encoder, messageYjsSyncStep2);\n    lib0_encoding__WEBPACK_IMPORTED_MODULE_0__.writeVarUint8Array(encoder, yjs__WEBPACK_IMPORTED_MODULE_1__.encodeStateAsUpdate(doc, encodedStateVector));\n};\n/**\n * Read SyncStep1 message and reply with SyncStep2.\n *\n * @param {decoding.Decoder} decoder The reply to the received message\n * @param {encoding.Encoder} encoder The received message\n * @param {Y.Doc} doc\n */ const readSyncStep1 = (decoder, encoder, doc)=>writeSyncStep2(encoder, doc, lib0_decoding__WEBPACK_IMPORTED_MODULE_2__.readVarUint8Array(decoder));\n/**\n * Read and apply Structs and then DeleteStore to a y instance.\n *\n * @param {decoding.Decoder} decoder\n * @param {Y.Doc} doc\n * @param {any} transactionOrigin\n */ const readSyncStep2 = (decoder, doc, transactionOrigin)=>{\n    try {\n        yjs__WEBPACK_IMPORTED_MODULE_1__.applyUpdate(doc, lib0_decoding__WEBPACK_IMPORTED_MODULE_2__.readVarUint8Array(decoder), transactionOrigin);\n    } catch (error) {\n        // This catches errors that are thrown by event handlers\n        console.error(\"Caught error while handling a Yjs update\", error);\n    }\n};\n/**\n * @param {encoding.Encoder} encoder\n * @param {Uint8Array} update\n */ const writeUpdate = (encoder, update)=>{\n    lib0_encoding__WEBPACK_IMPORTED_MODULE_0__.writeVarUint(encoder, messageYjsUpdate);\n    lib0_encoding__WEBPACK_IMPORTED_MODULE_0__.writeVarUint8Array(encoder, update);\n};\n/**\n * Read and apply Structs and then DeleteStore to a y instance.\n *\n * @param {decoding.Decoder} decoder\n * @param {Y.Doc} doc\n * @param {any} transactionOrigin\n */ const readUpdate = readSyncStep2;\n/**\n * @param {decoding.Decoder} decoder A message received from another client\n * @param {encoding.Encoder} encoder The reply message. Does not need to be sent if empty.\n * @param {Y.Doc} doc\n * @param {any} transactionOrigin\n */ const readSyncMessage = (decoder, encoder, doc, transactionOrigin)=>{\n    const messageType = lib0_decoding__WEBPACK_IMPORTED_MODULE_2__.readVarUint(decoder);\n    switch(messageType){\n        case messageYjsSyncStep1:\n            readSyncStep1(decoder, encoder, doc);\n            break;\n        case messageYjsSyncStep2:\n            readSyncStep2(decoder, doc, transactionOrigin);\n            break;\n        case messageYjsUpdate:\n            readUpdate(decoder, doc, transactionOrigin);\n            break;\n        default:\n            throw new Error(\"Unknown message type\");\n    }\n    return messageType;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveS1wcm90b2NvbHMvc3luYy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0NBRUMsR0FFd0M7QUFDQTtBQUNqQjtBQUV4Qjs7Q0FFQyxHQUVEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQXVCQyxHQUVNLE1BQU1HLHNCQUFzQixFQUFDO0FBQzdCLE1BQU1DLHNCQUFzQixFQUFDO0FBQzdCLE1BQU1DLG1CQUFtQixFQUFDO0FBRWpDOzs7OztDQUtDLEdBQ00sTUFBTUMsaUJBQWlCLENBQUNDLFNBQVNDO0lBQ3RDUix1REFBcUIsQ0FBQ08sU0FBU0o7SUFDL0IsTUFBTU8sS0FBS1Isa0RBQW1CLENBQUNNO0lBQy9CUiw2REFBMkIsQ0FBQ08sU0FBU0c7QUFDdkMsRUFBQztBQUVEOzs7O0NBSUMsR0FDTSxNQUFNRyxpQkFBaUIsQ0FBQ04sU0FBU0MsS0FBS007SUFDM0NkLHVEQUFxQixDQUFDTyxTQUFTSDtJQUMvQkosNkRBQTJCLENBQUNPLFNBQVNMLG9EQUFxQixDQUFDTSxLQUFLTTtBQUNsRSxFQUFDO0FBRUQ7Ozs7OztDQU1DLEdBQ00sTUFBTUUsZ0JBQWdCLENBQUNDLFNBQVNWLFNBQVNDLE1BQzlDSyxlQUFlTixTQUFTQyxLQUFLUCw0REFBMEIsQ0FBQ2dCLFVBQVM7QUFFbkU7Ozs7OztDQU1DLEdBQ00sTUFBTUUsZ0JBQWdCLENBQUNGLFNBQVNULEtBQUtZO0lBQzFDLElBQUk7UUFDRmxCLDRDQUFhLENBQUNNLEtBQUtQLDREQUEwQixDQUFDZ0IsVUFBVUc7SUFDMUQsRUFBRSxPQUFPRSxPQUFPO1FBQ2Qsd0RBQXdEO1FBQ3hEQyxRQUFRRCxLQUFLLENBQUMsNENBQTRDQTtJQUM1RDtBQUNGLEVBQUM7QUFFRDs7O0NBR0MsR0FDTSxNQUFNRSxjQUFjLENBQUNqQixTQUFTa0I7SUFDbkN6Qix1REFBcUIsQ0FBQ08sU0FBU0Y7SUFDL0JMLDZEQUEyQixDQUFDTyxTQUFTa0I7QUFDdkMsRUFBQztBQUVEOzs7Ozs7Q0FNQyxHQUNNLE1BQU1DLGFBQWFQLGNBQWE7QUFFdkM7Ozs7O0NBS0MsR0FDTSxNQUFNUSxrQkFBa0IsQ0FBQ1YsU0FBU1YsU0FBU0MsS0FBS1k7SUFDckQsTUFBTVEsY0FBYzNCLHNEQUFvQixDQUFDZ0I7SUFDekMsT0FBUVc7UUFDTixLQUFLekI7WUFDSGEsY0FBY0MsU0FBU1YsU0FBU0M7WUFDaEM7UUFDRixLQUFLSjtZQUNIZSxjQUFjRixTQUFTVCxLQUFLWTtZQUM1QjtRQUNGLEtBQUtmO1lBQ0hxQixXQUFXVCxTQUFTVCxLQUFLWTtZQUN6QjtRQUNGO1lBQ0UsTUFBTSxJQUFJVSxNQUFNO0lBQ3BCO0lBQ0EsT0FBT0Y7QUFDVCxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3luY2RyYXctY2xpZW50Ly4vbm9kZV9tb2R1bGVzL3ktcHJvdG9jb2xzL3N5bmMuanM/YTRlMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBtb2R1bGUgc3luYy1wcm90b2NvbFxuICovXG5cbmltcG9ydCAqIGFzIGVuY29kaW5nIGZyb20gJ2xpYjAvZW5jb2RpbmcnXG5pbXBvcnQgKiBhcyBkZWNvZGluZyBmcm9tICdsaWIwL2RlY29kaW5nJ1xuaW1wb3J0ICogYXMgWSBmcm9tICd5anMnXG5cbi8qKlxuICogQHR5cGVkZWYge01hcDxudW1iZXIsIG51bWJlcj59IFN0YXRlTWFwXG4gKi9cblxuLyoqXG4gKiBDb3JlIFlqcyBkZWZpbmVzIHR3byBtZXNzYWdlIHR5cGVzOlxuICog4oCiIFlqc1N5bmNTdGVwMTogSW5jbHVkZXMgdGhlIFN0YXRlIFNldCBvZiB0aGUgc2VuZGluZyBjbGllbnQuIFdoZW4gcmVjZWl2ZWQsIHRoZSBjbGllbnQgc2hvdWxkIHJlcGx5IHdpdGggWWpzU3luY1N0ZXAyLlxuICog4oCiIFlqc1N5bmNTdGVwMjogSW5jbHVkZXMgYWxsIG1pc3Npbmcgc3RydWN0cyBhbmQgdGhlIGNvbXBsZXRlIGRlbGV0ZSBzZXQuIFdoZW4gcmVjZWl2ZWQsIHRoZSBjbGllbnQgaXMgYXNzdXJlZCB0aGF0IGl0XG4gKiAgIHJlY2VpdmVkIGFsbCBpbmZvcm1hdGlvbiBmcm9tIHRoZSByZW1vdGUgY2xpZW50LlxuICpcbiAqIEluIGEgcGVlci10by1wZWVyIG5ldHdvcmssIHlvdSBtYXkgd2FudCB0byBpbnRyb2R1Y2UgYSBTeW5jRG9uZSBtZXNzYWdlIHR5cGUuIEJvdGggcGFydGllcyBzaG91bGQgaW5pdGlhdGUgdGhlIGNvbm5lY3Rpb25cbiAqIHdpdGggU3luY1N0ZXAxLiBXaGVuIGEgY2xpZW50IHJlY2VpdmVkIFN5bmNTdGVwMiwgaXQgc2hvdWxkIHJlcGx5IHdpdGggU3luY0RvbmUuIFdoZW4gdGhlIGxvY2FsIGNsaWVudCByZWNlaXZlZCBib3RoXG4gKiBTeW5jU3RlcDIgYW5kIFN5bmNEb25lLCBpdCBpcyBhc3N1cmVkIHRoYXQgaXQgaXMgc3luY2VkIHRvIHRoZSByZW1vdGUgY2xpZW50LlxuICpcbiAqIEluIGEgY2xpZW50LXNlcnZlciBtb2RlbCwgeW91IHdhbnQgdG8gaGFuZGxlIHRoaXMgZGlmZmVyZW50bHk6IFRoZSBjbGllbnQgc2hvdWxkIGluaXRpYXRlIHRoZSBjb25uZWN0aW9uIHdpdGggU3luY1N0ZXAxLlxuICogV2hlbiB0aGUgc2VydmVyIHJlY2VpdmVzIFN5bmNTdGVwMSwgaXQgc2hvdWxkIHJlcGx5IHdpdGggU3luY1N0ZXAyIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IFN5bmNTdGVwMS4gVGhlIGNsaWVudCByZXBsaWVzXG4gKiB3aXRoIFN5bmNTdGVwMiB3aGVuIGl0IHJlY2VpdmVzIFN5bmNTdGVwMS4gT3B0aW9uYWxseSB0aGUgc2VydmVyIG1heSBzZW5kIGEgU3luY0RvbmUgYWZ0ZXIgaXQgcmVjZWl2ZWQgU3luY1N0ZXAyLCBzbyB0aGVcbiAqIGNsaWVudCBrbm93cyB0aGF0IHRoZSBzeW5jIGlzIGZpbmlzaGVkLiAgVGhlcmUgYXJlIHR3byByZWFzb25zIGZvciB0aGlzIG1vcmUgZWxhYm9yYXRlZCBzeW5jIG1vZGVsOiAxLiBUaGlzIHByb3RvY29sIGNhblxuICogZWFzaWx5IGJlIGltcGxlbWVudGVkIG9uIHRvcCBvZiBodHRwIGFuZCB3ZWJzb2NrZXRzLiAyLiBUaGUgc2VydmVyIHNob3VsZCBvbmx5IHJlcGx5IHRvIHJlcXVlc3RzLCBhbmQgbm90IGluaXRpYXRlIHRoZW0uXG4gKiBUaGVyZWZvcmUgaXQgaXMgbmVjZXNzYXJ5IHRoYXQgdGhlIGNsaWVudCBpbml0aWF0ZXMgdGhlIHN5bmMuXG4gKlxuICogQ29uc3RydWN0aW9uIG9mIGEgbWVzc2FnZTpcbiAqIFttZXNzYWdlVHlwZSA6IHZhclVpbnQsIG1lc3NhZ2UgZGVmaW5pdGlvbi4uXVxuICpcbiAqIE5vdGU6IEEgbWVzc2FnZSBkb2VzIG5vdCBpbmNsdWRlIGluZm9ybWF0aW9uIGFib3V0IHRoZSByb29tIG5hbWUuIFRoaXMgbXVzdCB0byBiZSBoYW5kbGVkIGJ5IHRoZSB1cHBlciBsYXllciBwcm90b2NvbCFcbiAqXG4gKiBzdHJpbmdpZnlbbWVzc2FnZVR5cGVdIHN0cmluZ2lmaWVzIGEgbWVzc2FnZSBkZWZpbml0aW9uIChtZXNzYWdlVHlwZSBpcyBhbHJlYWR5IHJlYWQgZnJvbSB0aGUgYnVmZmZlcilcbiAqL1xuXG5leHBvcnQgY29uc3QgbWVzc2FnZVlqc1N5bmNTdGVwMSA9IDBcbmV4cG9ydCBjb25zdCBtZXNzYWdlWWpzU3luY1N0ZXAyID0gMVxuZXhwb3J0IGNvbnN0IG1lc3NhZ2VZanNVcGRhdGUgPSAyXG5cbi8qKlxuICogQ3JlYXRlIGEgc3luYyBzdGVwIDEgbWVzc2FnZSBiYXNlZCBvbiB0aGUgc3RhdGUgb2YgdGhlIGN1cnJlbnQgc2hhcmVkIGRvY3VtZW50LlxuICpcbiAqIEBwYXJhbSB7ZW5jb2RpbmcuRW5jb2Rlcn0gZW5jb2RlclxuICogQHBhcmFtIHtZLkRvY30gZG9jXG4gKi9cbmV4cG9ydCBjb25zdCB3cml0ZVN5bmNTdGVwMSA9IChlbmNvZGVyLCBkb2MpID0+IHtcbiAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KGVuY29kZXIsIG1lc3NhZ2VZanNTeW5jU3RlcDEpXG4gIGNvbnN0IHN2ID0gWS5lbmNvZGVTdGF0ZVZlY3Rvcihkb2MpXG4gIGVuY29kaW5nLndyaXRlVmFyVWludDhBcnJheShlbmNvZGVyLCBzdilcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2VuY29kaW5nLkVuY29kZXJ9IGVuY29kZXJcbiAqIEBwYXJhbSB7WS5Eb2N9IGRvY1xuICogQHBhcmFtIHtVaW50OEFycmF5fSBbZW5jb2RlZFN0YXRlVmVjdG9yXVxuICovXG5leHBvcnQgY29uc3Qgd3JpdGVTeW5jU3RlcDIgPSAoZW5jb2RlciwgZG9jLCBlbmNvZGVkU3RhdGVWZWN0b3IpID0+IHtcbiAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KGVuY29kZXIsIG1lc3NhZ2VZanNTeW5jU3RlcDIpXG4gIGVuY29kaW5nLndyaXRlVmFyVWludDhBcnJheShlbmNvZGVyLCBZLmVuY29kZVN0YXRlQXNVcGRhdGUoZG9jLCBlbmNvZGVkU3RhdGVWZWN0b3IpKVxufVxuXG4vKipcbiAqIFJlYWQgU3luY1N0ZXAxIG1lc3NhZ2UgYW5kIHJlcGx5IHdpdGggU3luY1N0ZXAyLlxuICpcbiAqIEBwYXJhbSB7ZGVjb2RpbmcuRGVjb2Rlcn0gZGVjb2RlciBUaGUgcmVwbHkgdG8gdGhlIHJlY2VpdmVkIG1lc3NhZ2VcbiAqIEBwYXJhbSB7ZW5jb2RpbmcuRW5jb2Rlcn0gZW5jb2RlciBUaGUgcmVjZWl2ZWQgbWVzc2FnZVxuICogQHBhcmFtIHtZLkRvY30gZG9jXG4gKi9cbmV4cG9ydCBjb25zdCByZWFkU3luY1N0ZXAxID0gKGRlY29kZXIsIGVuY29kZXIsIGRvYykgPT5cbiAgd3JpdGVTeW5jU3RlcDIoZW5jb2RlciwgZG9jLCBkZWNvZGluZy5yZWFkVmFyVWludDhBcnJheShkZWNvZGVyKSlcblxuLyoqXG4gKiBSZWFkIGFuZCBhcHBseSBTdHJ1Y3RzIGFuZCB0aGVuIERlbGV0ZVN0b3JlIHRvIGEgeSBpbnN0YW5jZS5cbiAqXG4gKiBAcGFyYW0ge2RlY29kaW5nLkRlY29kZXJ9IGRlY29kZXJcbiAqIEBwYXJhbSB7WS5Eb2N9IGRvY1xuICogQHBhcmFtIHthbnl9IHRyYW5zYWN0aW9uT3JpZ2luXG4gKi9cbmV4cG9ydCBjb25zdCByZWFkU3luY1N0ZXAyID0gKGRlY29kZXIsIGRvYywgdHJhbnNhY3Rpb25PcmlnaW4pID0+IHtcbiAgdHJ5IHtcbiAgICBZLmFwcGx5VXBkYXRlKGRvYywgZGVjb2RpbmcucmVhZFZhclVpbnQ4QXJyYXkoZGVjb2RlciksIHRyYW5zYWN0aW9uT3JpZ2luKVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vIFRoaXMgY2F0Y2hlcyBlcnJvcnMgdGhhdCBhcmUgdGhyb3duIGJ5IGV2ZW50IGhhbmRsZXJzXG4gICAgY29uc29sZS5lcnJvcignQ2F1Z2h0IGVycm9yIHdoaWxlIGhhbmRsaW5nIGEgWWpzIHVwZGF0ZScsIGVycm9yKVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtlbmNvZGluZy5FbmNvZGVyfSBlbmNvZGVyXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IHVwZGF0ZVxuICovXG5leHBvcnQgY29uc3Qgd3JpdGVVcGRhdGUgPSAoZW5jb2RlciwgdXBkYXRlKSA9PiB7XG4gIGVuY29kaW5nLndyaXRlVmFyVWludChlbmNvZGVyLCBtZXNzYWdlWWpzVXBkYXRlKVxuICBlbmNvZGluZy53cml0ZVZhclVpbnQ4QXJyYXkoZW5jb2RlciwgdXBkYXRlKVxufVxuXG4vKipcbiAqIFJlYWQgYW5kIGFwcGx5IFN0cnVjdHMgYW5kIHRoZW4gRGVsZXRlU3RvcmUgdG8gYSB5IGluc3RhbmNlLlxuICpcbiAqIEBwYXJhbSB7ZGVjb2RpbmcuRGVjb2Rlcn0gZGVjb2RlclxuICogQHBhcmFtIHtZLkRvY30gZG9jXG4gKiBAcGFyYW0ge2FueX0gdHJhbnNhY3Rpb25PcmlnaW5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlYWRVcGRhdGUgPSByZWFkU3luY1N0ZXAyXG5cbi8qKlxuICogQHBhcmFtIHtkZWNvZGluZy5EZWNvZGVyfSBkZWNvZGVyIEEgbWVzc2FnZSByZWNlaXZlZCBmcm9tIGFub3RoZXIgY2xpZW50XG4gKiBAcGFyYW0ge2VuY29kaW5nLkVuY29kZXJ9IGVuY29kZXIgVGhlIHJlcGx5IG1lc3NhZ2UuIERvZXMgbm90IG5lZWQgdG8gYmUgc2VudCBpZiBlbXB0eS5cbiAqIEBwYXJhbSB7WS5Eb2N9IGRvY1xuICogQHBhcmFtIHthbnl9IHRyYW5zYWN0aW9uT3JpZ2luXG4gKi9cbmV4cG9ydCBjb25zdCByZWFkU3luY01lc3NhZ2UgPSAoZGVjb2RlciwgZW5jb2RlciwgZG9jLCB0cmFuc2FjdGlvbk9yaWdpbikgPT4ge1xuICBjb25zdCBtZXNzYWdlVHlwZSA9IGRlY29kaW5nLnJlYWRWYXJVaW50KGRlY29kZXIpXG4gIHN3aXRjaCAobWVzc2FnZVR5cGUpIHtcbiAgICBjYXNlIG1lc3NhZ2VZanNTeW5jU3RlcDE6XG4gICAgICByZWFkU3luY1N0ZXAxKGRlY29kZXIsIGVuY29kZXIsIGRvYylcbiAgICAgIGJyZWFrXG4gICAgY2FzZSBtZXNzYWdlWWpzU3luY1N0ZXAyOlxuICAgICAgcmVhZFN5bmNTdGVwMihkZWNvZGVyLCBkb2MsIHRyYW5zYWN0aW9uT3JpZ2luKVxuICAgICAgYnJlYWtcbiAgICBjYXNlIG1lc3NhZ2VZanNVcGRhdGU6XG4gICAgICByZWFkVXBkYXRlKGRlY29kZXIsIGRvYywgdHJhbnNhY3Rpb25PcmlnaW4pXG4gICAgICBicmVha1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gbWVzc2FnZSB0eXBlJylcbiAgfVxuICByZXR1cm4gbWVzc2FnZVR5cGVcbn1cbiJdLCJuYW1lcyI6WyJlbmNvZGluZyIsImRlY29kaW5nIiwiWSIsIm1lc3NhZ2VZanNTeW5jU3RlcDEiLCJtZXNzYWdlWWpzU3luY1N0ZXAyIiwibWVzc2FnZVlqc1VwZGF0ZSIsIndyaXRlU3luY1N0ZXAxIiwiZW5jb2RlciIsImRvYyIsIndyaXRlVmFyVWludCIsInN2IiwiZW5jb2RlU3RhdGVWZWN0b3IiLCJ3cml0ZVZhclVpbnQ4QXJyYXkiLCJ3cml0ZVN5bmNTdGVwMiIsImVuY29kZWRTdGF0ZVZlY3RvciIsImVuY29kZVN0YXRlQXNVcGRhdGUiLCJyZWFkU3luY1N0ZXAxIiwiZGVjb2RlciIsInJlYWRWYXJVaW50OEFycmF5IiwicmVhZFN5bmNTdGVwMiIsInRyYW5zYWN0aW9uT3JpZ2luIiwiYXBwbHlVcGRhdGUiLCJlcnJvciIsImNvbnNvbGUiLCJ3cml0ZVVwZGF0ZSIsInVwZGF0ZSIsInJlYWRVcGRhdGUiLCJyZWFkU3luY01lc3NhZ2UiLCJtZXNzYWdlVHlwZSIsInJlYWRWYXJVaW50IiwiRXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/y-protocols/sync.js\n");

/***/ })

};
;